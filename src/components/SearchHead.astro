---
import CheckboxToggle from '../components/CheckboxToggle.astro';

// Props
const {
  initialQuery = '',
  isOffLead = false,
  isEnclosed = false,
  hasWater = false,
} = Astro.props;
---

<form method="GET" action="/find" class="w-full py-6 pt-2 pb-6 border-b border-gray-200">
  <div class="flex flex-col items-center py-0 justify-center gap-4 max-w-4xl mx-auto">

  <!-- Row 1: Search bar and button -->
  <div class="flex flex-row flex-nowrap items-center justify-center gap-2 w-full overflow-hidden">
    <input
      type="text"
      name="q"
      maxlength="60"
      value={initialQuery}
      placeholder="Search suburb, postcode, or state"
      class="w-[280px] max-w-full px-4 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-left flex-shrink"
    />
    <button
      type="submit"
      class="px-4 py-2 bg-gray-700 text-white text-sm font-medium rounded-md hover:bg-gray-800 flex-shrink-0"
    >
      üîç
    </button>
  </div>

<!-- Row 2: Boolean filters -->
    <div class="flex flex-wrap justify-center items-center gap-4 text-sm text-gray-700">
      <CheckboxToggle name="offlead" label="Off-Leash Allowed" checked={isOffLead} />
      <CheckboxToggle name="enclosed" label="Fully Enclosed" checked={isEnclosed} />
      <CheckboxToggle name="water" label="Water Available" checked={hasWater} />
    </div>

  </div>



</form>
